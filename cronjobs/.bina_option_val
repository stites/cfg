#!/usr/bin/python
from datetime import date
import locale
import sys
locale.setlocale(locale.LC_ALL, '')

first_day  = date(2014,6,4)
year_four  = date(2018,6,4)
today      = date.today()

purchase   = 0.09
est_value  = int(sys.argv[1]) if len(sys.argv) == 2 else 1
earned_val = est_value - purchase

days_worked    = (today - first_day).days + 0.0
days_till_vest = (year_four - first_day).days + 0.0

percent_immediate = days_worked / days_till_vest
percent_cliff     = percent_immediate if percent_immediate > 0.25 else 0

cliffed_options   = 100000
immediate_options = 20000
options = cliffed_options + immediate_options

total     = options*earned_val
uncliffed = options*earned_val*percent_immediate
cliffed   = (percent_cliff*cliffed_options + percent_immediate*immediate_options) * earned_val

# =========================== #
print 'Bina Incentive Program'
print 'estimating $%d share value' % est_value
print '-------------------------'

width  = 6
print 'cliffed shares:    %s' % str(cliffed_options).rjust(width)
print 'immediate shares:  %s' % str(immediate_options).rjust(width)
print 'completed:         %.2f%%' % (percent_immediate*100)
print '-------------------------'
width  = 15
print 'total:    %s' % ('$'+locale.format("%.2f", total, grouping=True)).rjust(width)
print 'uncliffed:%s' % ('$'+locale.format("%.2f", uncliffed, grouping=True)).rjust(width)
print 'cliffed:  %s' % ('$'+locale.format("%.2f",   cliffed, grouping=True)).rjust(width)
