
# ========================================================= #
# git config                                                #
# ========================================================= #

# git alias:
alias g="git "
alias gf="git flow"
alias gl="git log --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%ad @ %cr) %C(bold blue)<%an>%Creset' --graph --abbrev-commit --date=short"
alias go="git checkout "
alias gs='git status'
alias gr='git reset'
alias gm="git merge "
alias ga="git add "
alias ga\.="git add . "
alias gim="ga . && gcm"
alias gd="git diff"
alias gb='git branch'

# start/pop
alias stash="git stash"
alias pop="git stash pop"

# commit
alias gc="git commit "
alias gcm="gc -m "
alias gim="ga . && gcm"

# push
alias gp='      git push'
alias gpo='    gp origin'
alias gpu='  gp upstream'
alias gpom='  gpo master'
alias gpum='  gpu master'
alias gpod=' gpo develop'
alias gpud=' gpu develop'
alias gpocb='  gpo $(cb)'
alias gpucb='  gpu $(cb)'

# pull
alias gpl='       git pull'
alias gplo='    gpl origin'
alias gplu='  gpl upstream'
alias gplom='  gplo master'
alias gplum='  gplu master'
alias gplod=' gplo develop'
alias gplud=' gplu develop'
alias gplocb='  gplo $(cb)'
alias gplucb='  gplu $(cb)'

# move and remove
alias gmv="git mv "
alias grm="git rm "

# update index
alias guiau=' git update-index --assume-unchanged'
alias guinau='git update-index --no-assume-unchanged'

alias gcl="git clone "
alias gfl="git fetch && gl"

alias gpub='go gh-pages && gpog && go master && gm gh-pages && gpom && go gh-pages && gs'
alias ghUp="gh pr --remote upstream -s"

# ====================================== #
# git helpers: hub, flow, twig           #
# ====================================== #
TWIG_COMPLETION=~/.twig/twig-completion.bash
FLOW_COMPLETION=/usr/local/etc/bash_completion.d/git-flow-completion.bash

for GIT_HELPER in $TWIG_COMPLETION $FLOW_COMPLETION; do
  [[ -s $GIT_HELPER ]] && source $GIT_HELPER
done

alias git=hub

# hub-functionality
function gpr {
  case $1 in
    develop)
      shift
      git pull-request -b "BinaTechnologies/seqalto:develop" $* ;;
    *)
      git pull-request $* ;;
  esac
}

function ignore {
  echo $1 >> .gitignore
}

function cb {
  git status | grep "On branch " | cut -c 11-
}

alias gitTree='tree -I ./client/bower_components -I node_modules'
