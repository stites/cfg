
# ===================== #
# tmux functionality    #
# ===================== #
alias tmux='tmux -2'

function trc {
  if which tmux 2>&1 >/dev/null; then
    # if no session is started, start a new session
      test -z ${TMUX} && tmux new -s default

    # when quitting tmux, try to attach
    while test -z ${TMUX}; do
      tmux attach || break
    done
  fi
}

function rsc() {
  CLIENTID=$1.`date +%S`
  tmux new-session -d -t $1 -s $CLIENTID \; set-option destroy-unattached \; attach-session -t $CLIENTID
}

function mksc() {
  tmux new-session -d -s $1
  rsc $1
}

# init tmux on startup
#trc

function tmux-switch {
  TMUX= tmux new-session -d -s $1
  tmux switch-client -t $1
}
# ==================== #
#     tmuxinator       #
# ==================== #
